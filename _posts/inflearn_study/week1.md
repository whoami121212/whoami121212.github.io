# 1주차 : 인프런 DB 구조 훑어보기 & RDBMS에 대해서 내가 아는 것들 

소주제들 정리 
0. select from where을 못쓰시는 분? 그러니까, antman database를 조회해보지 않은 사람들! 
1. 인프런 데이터베이스들 구조 
    - users 부터 시작. courses, orders, order_items, vouchers, units, completes까지 살펴본다. 
    - 내가 뭔 문제있으면 관련 데이터테이블부터 까보는 습관이 있는데, 이게 데이터 구조가 기능의 동작방식과 밀접하게 관련이 있어서 그렇다. 
    - 뭐 예를들면 우리 최종 접속시간이 있는데, 이게 어딘가에 쌓이고 있다고 생각하기 쉽다. 근데 실제로 users 테이블을 보면 한 컬럼안에 저장되고 있는 것을 볼 수 있고, 이걸 보면 아 따로 저장되고 있지도 않고, 그걸 다 저장하려면 양이 많겠구나 대충 이렇게 생각할 수 있는 것이다. 물어보기 전에 어느정도 가늠을 할 수 있는거지. 그럼 물어보기도 더 좋겠지? 특히 00테이블에 있는 00이라고 정확히 짚어주는 것이 개발자가 알아듣기 좋다. 왜냐하면 '어떤 유저가 어제 가입했다고 하던데요?' 이런 식으로 접근하는 것보다는 users에서 각 timestamp type 컬럼들을 살펴보고 'created_at은 어젯밤인데, validated_at은 오늘이네? 어젯밤에 가입하고 인증은 방금 했나보다' 요런 형태로 접근해야 한다는 점. 
    - 처음에 회원가입 프로그램을 만들었다고 치고, 여기서 강의를 구매할 수 있는 기능을 만들었다고 가정하자. 한 테이블에 만들려면 복잡해지겠지? 그래서 분리를 하는데, 분리를 할 때 데이터를 중복해서 넣는 것을 최소화하려면 상대 테이블의 primary key만 참조하면 되는거다. 그래서 orders 에는 user_id만 들어가 있는 것. 그렇다면 order_items에는 course_id만 들어오면 되는데 왜 title이 포함되어야 하는가? 그것은 강의 명이 바뀔 수 있기 때문이다. 그래서 주문서에 들어가면 내가 구매했을 당시의 이름이 나와있겟지? 아니라면 다른 처리가 되어있는 것이고. 이런 식으로 데이터의 구조는 로직과 연관이 있다. 
    - 특히 completes까지 들어가면 primary key가 없다는 점에 주목하고, 왜 이런 구조로 짜여졌는지 설명한다. 이 또한 로직과 관련이 있음. 정 궁금하면 후리한테 물어보면 설명해준다. 
2. 명명규칙 : 복수를 쓴다. 연결된 테이블은 두 테이블의 이름을 사용한다. 
3. RDBMS : 자식이 부모의 정보를 가진다. 1:N, N:N 관계, 프라이머리키, 컬럼에는 속성이 정해져있음. 
4. 조인 구조
5. 여기까지 설명하고 master 파일로 넘어감. 이런 구조를 모르기 때문에 실수가 발생함. master의 primary key는 무엇일까? 
그리고 master에 포함되어있지 않은 정보들에 대해서는 어떻게 할 것인가? 


# 1주차 2 : 주제별 예시 소개 및 실습 

어떤 테이블을 조회했을 때, 드롭다운처럼 어떤 값들이 들어가있는지 보고싶다면 group by를 활용하시면 됩니다. 
terms의 경우, 내 생각에는 좀 심한 것 같은 테이블이긴 한데, 내부 사정은 모르겠다. 어쨌든 
일반태그, 스킬, 카테고리, 레벨, 태그, 감성태그 이렇게 각기 쓰임이 다른 여섯가지 용어들이 혼재되어 있다. 
그래서 필요한 경우, 이걸 잘 이용해서 데이터에 써먹어야 된다. 

오늘 주제는 서비스에 제공되는 데이터를 직접 뽑아보기 이다. 
이 terms를 이용해서 하는 작업들이 생각보다 많을 수 있으므로, 어디 한 번 서비스에 나와있는 카테고리 리스트를 뽑아보도록 한다. 

이런 것들에 대한 접근법은 다양할 수 있지만, 나는 우선 terms라는걸 하나 알았으므로 이걸로 시작해보겠다. 
어쨌든 지금 계층구조로, 대카테고리와 소카테고리가 나눠져있는 것으로 보이기 때문에, 이거를 찾아내야 한다. 
이런 경우는 대카테고리 1개에 소카테고리 여러개가 있는, 1:N 구조이기 때문에 자식이 부모의 정보를 가지고 잇을 것. 즉, 소카테고리가 대카테고리의 ID를 가지고 있을 것이라 추측할 수 있다. 

근데 없쥬? 이럴때는 짱구를 굴리거나 물어보면 됨. 어쨌든 카테고리만 parent가 있는데, 이게 아닐까? 하는 생각을 해볼 수 있다. 근데 잘 내리다보면 parent가 없는 카테고리가 있는데 이놈이 대카테고리. 
즉, 여기에 나오는 걸 조회하려면 terms를 두 번 합쳐야한다. 

그리고나서 보고싶은 정보만 추리면 짜잔. 어드민이랑 똑같다. 어드민은 이거랑 비슷한 로직으로 돌려서 꺼내오는 것. 

그럼 이제 우리는 카테고리를 꺼내는 방법을 알아냈다. 이제 소카테고리에 있는 강의들을 뽑아보자. 
이게 왜 중요하냐면, 만약에 B2B나 지공자가 웹개발강의 추천해달라고하면 어떻게 할 것인가? master에서 볼 것인가? 하지만 그러면 실제 지공자가 조회하는 화면과 다른 결과가 출력된다. 
master를 포함한 b2b에는 대표카테고리만 나오니까. 
이럴 때, 해당 소카테고리가 하나라도 포함된 강의를 추려서 볼 수 있어야 한다.  

카테고리 관련. 



스터디 목표 

- 전혀 모르는 분

- DB / SQL 
데이터 조회를 해보려고 하는데 자신이 없는 분
정확한 데이터가 나오고 있는지 모르겠고, 안개 속을 걷는 느낌을 받는 분
하던거는 대충 보겠는데, 안해본걸 하려고 하면 어디서부터 뭘 찾아야 할지 알 수 없는 분

- 파이썬
대충 파이썬 뭔말인지는 알겠는데 나에게 주어진 문제를 해결할 수가 없는 분


2주 정도? : 기존 쿼리 중 활용할만한 부분들에 대한 리뷰 : 대충 구글에서 어떻게 야매로 배우는가.
1주 : 파이썬 기초
3주 : 파이썬 라이브러리 탐색과 적용 : 대충 야매로 어떻게 남의 코드 배껴서 쓰는가, 선비한테는 언제 물어보면 좋은가 등
1주 : AI한테 간단한 코딩 시켜보기 : 구글 꼴랩을 이용하면 앵간한 간단한건 후리보다 빨리 코딩가능
?주 : 기존 파이썬 코드 리뷰 및 리팩토링 (엑셀, 구글시트, 이메일, 문자발송, DB연동, 판다스 활용 등)